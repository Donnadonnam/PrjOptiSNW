[![ViewCount](https://views.whatilearened.today/views/github/FanWangEcon/PrjOptiSNW.svg)](https://github.com/FanWangEcon/PrjOptiSNW)  [![Star](https://img.shields.io/github/stars/fanwangecon/PrjOptiSNW?style=social)](https://github.com/FanWangEcon/PrjOptiSNW/stargazers) [![Fork](https://img.shields.io/github/forks/fanwangecon/PrjOptiSNW?style=social)](https://github.com/FanWangEcon/PrjOptiSNW/network/members) [![Star](https://img.shields.io/github/watchers/fanwangecon/PrjOptiSNW?style=social)](https://github.com/FanWangEcon/PrjOptiSNW/watchers) [![DOI](https://zenodo.org/badge/273278814.svg)](https://zenodo.org/badge/latestdoi/273278814)

This is a work-in-progress Matlab package consisting of functions that solve the dynamic life cycle model in [Nygård](https://sites.google.com/site/vegardmokleivnygaard/), [Sørensen](https://uh.edu/~bsorense/) and [Wang](https://fanwangecon.github.io/) (2021). The paper is titled [Optimal allocations to heterogeneous agents with an application to the COVID-19 stimulus checks](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890). [Nygård, Sørensen and Wang (2021)](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890) supersedes two prior papers, [Nygård, Sørensen and Wang (2020)](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3691091) as well as [Wang (2020)](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3547706). The code companion presents solutions to the dynamic life-cycle problem, and methods for evaluating the marginal gains from allocating additional stimulus checks. Tested with [Matlab](https://www.mathworks.com/products/matlab.html) 2020a.

All functions are parts of a matlab toolbox that can be installed:

> Download and install the Matlab toolbox: [PrjOptiSNW.mltbx](https://github.com/FanWangEcon/PrjOptiSNW/blob/master/PrjOptiSNW.mltbx)

The Code Companion can also be accessed via the bookdown site and PDF linked below:

> [**bookdown pdf**](https://fanwangecon.github.io/PrjOptiSNW/bookdown/NSW-Dynamic-Life-Cycle-and-Stimulus-Checks-Code-Companion.pdf), [**MathWorks File Exchange**](https://www.mathworks.com/matlabcentral/fileexchange/80164-prjoptisnw)

This files below consists of a collection of mlx based vignettes for functions that are available from [PrjOptiSNW](https://github.com/FanWangEcon/PrjOptiSNW). Each Vignette file contains various examples for invoking each function.

The package relies on [MEconTools](https://fanwangecon.github.io/MEconTools/), which needs to be installed first. The package does not include allocation functions, only simulation code to generate the value of each stimulus check increments for households. Allocation functions rely the R optimal allocation package [PrjOptiAlloc](https://fanwangecon.github.io/PrjOptiAlloc).

The files below largely document contents in the Matlab-based [PrjOptiSNW](https://github.com/FanWangEcon/PrjOptiSNW/tree/master/PrjOptiSNW) folder of the repository. The [AllocateR](https://github.com/FanWangEcon/PrjOptiSNW/tree/master/AllocateR) folder contains additional documentation for various functions and files that solve allocation problems based on functions in the R [PrjOptiAlloc](https://fanwangecon.github.io/PrjOptiAlloc) package and solutions csv files generated by the dynamic programming files from the Matlab-based [PrjOptiSNW](https://github.com/FanWangEcon/PrjOptiSNW/tree/master/PrjOptiSNW) folder. Some additional results for the paper are included in the [additional_results](https://github.com/FanWangEcon/PrjOptiSNW/tree/master/AllocateR/additional_results) folder. 

Please contact [FanWangEcon](https://fanwangecon.github.io/) for issues or problems.

[![](https://img.shields.io/github/last-commit/fanwangecon/PrjOptiSNW)](https://github.com/FanWangEcon/PrjOptiSNW/commits/master) [![](https://img.shields.io/github/commit-activity/m/fanwangecon/PrjOptiSNW)](https://github.com/FanWangEcon/PrjOptiSNW/graphs/commit-activity) [![](https://img.shields.io/github/issues/fanwangecon/PrjOptiSNW)](https://github.com/FanWangEcon/PrjOptiSNW/issues) [![](https://img.shields.io/github/issues-pr/fanwangecon/PrjOptiSNW)](https://github.com/FanWangEcon/PrjOptiSNW/pulls)

# Installation

In addition to downloading and installing [PrjOptiSNW.mltbx](https://github.com/FanWangEcon/PrjOptiSNW/blob/master/PrjOptiSNW.mltbx), can also:

```
# Clone Package from Git Bash
cd "C:/Downloads"
git clone https://github.com/fanwangecon/PrjOptiSNW.git
```

Install the Package from inside Matlab:

```
# Install Matlab Toolbox PrjOptiSNW
toolboxFile = 'C:/Downloads/PrjOptiSNW/PrjOptiSNW.mltbx';
# toolboxFile = 'C:/Users/fan/PrjOptiSNW/PrjOptiSNW.mltbx';
agreeToLicense = true;
installedToolbox = matlab.addons.toolbox.installToolbox(toolboxFile, agreeToLicense)
```
